import{f as M,g as V,a as N,h as F,e as S,i as q,k as B,m as G,r as g,_ as U,j as b,n as I,u as z,x as w,W as _}from"./app-403ffb89.js";import{T as O,G as K}from"./GuestLayout-77da1b90.js";import{j as H,h as J,b as Q,d as X,g as Y,s as Z,n as ee}from"./Menu-d1a25a08.js";import{a as te}from"./Select-b87f0a65.js";import{B as P}from"./Button-0ea0253a.js";const ne=["component","direction","spacing","divider","children","className","useFlexGap"],re=M(),oe=H("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function se(e){return V({props:e,name:"MuiStack",defaultTheme:re})}function ie(e,t){const o=g.Children.toArray(e).filter(Boolean);return o.reduce((n,s,r)=>(n.push(s),r<o.length-1&&n.push(g.cloneElement(t,{key:`separator-${r}`})),n),[])}const ae=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],le=({ownerState:e,theme:t})=>{let o=N({display:"flex",flexDirection:"column"},F({theme:t},S({values:e.direction,breakpoints:t.breakpoints.values}),n=>({flexDirection:n})));if(e.spacing){const n=q(t),s=Object.keys(t.breakpoints.values).reduce((a,l)=>((typeof e.spacing=="object"&&e.spacing[l]!=null||typeof e.direction=="object"&&e.direction[l]!=null)&&(a[l]=!0),a),{}),r=S({values:e.direction,base:s}),i=S({values:e.spacing,base:s});typeof r=="object"&&Object.keys(r).forEach((a,l,v)=>{if(!r[a]){const c=l>0?r[v[l-1]]:"column";r[a]=c}}),o=B(o,F({theme:t},i,(a,l)=>e.useFlexGap?{gap:I(n,a)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${ae(l?r[l]:e.direction)}`]:I(n,a)}}))}return o=G(t.breakpoints,o),o};function ce(e={}){const{createStyledComponent:t=oe,useThemeProps:o=se,componentName:n="MuiStack"}=e,s=()=>X({root:["root"]},a=>Y(n,a),{}),r=t(le);return g.forwardRef(function(a,l){const v=o(a),d=J(v),{component:c="div",direction:p="column",spacing:m=0,divider:h,children:y,className:k,useFlexGap:u=!1}=d,x=U(d,ne),C={direction:p,spacing:m,useFlexGap:u},$=s();return b.jsx(r,N({as:c,ownerState:C,ref:l,className:Q($.root,k)},x,{children:h?ie(y,h):y}))})}const ue=ce({createStyledComponent:Z("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>z({props:e,name:"MuiStack"})}),T=ue,de=ee(te)(({theme:e})=>({width:"2rem",fontSize:"1.4rem",fontWeight:"600",color:e.palette.secondary.main,input:{textAlign:"center "},appearance:"textfield","input::-webkit-outer-spin-button, input::-webkit-inner-spin-button":{appearance:"none",margin:0}})),pe=g.forwardRef(function({name:t,onChange:o,length:n=4,...s},r){const i=r||g.useRef(),[f,a]=g.useState(Array(n).fill("")),l=g.useCallback((p,m)=>a(h=>{const y=h.slice();return y[p]=m,o(t,y.join("")),y}),[]);function v(p){const m=parseInt(p.currentTarget.dataset.index),h=i.current;if(isNaN(m)||h===null)return;const y=m-1,k=m+1,u=h.querySelector(`.code-input-${y}`),x=h.querySelector(`.code-input-${k}`);switch(p.key){case"Backspace":f[m]?l(m,""):u&&u.select();break;case"ArrowRight":p.preventDefault(),x&&x.focus();break;case"ArrowLeft":p.preventDefault(),u&&u.focus()}}function d(p){const m=p.currentTarget.value,h=parseInt(p.currentTarget.dataset.index),y=i.current;if(isNaN(h)||y===null)return;let k=h+1,u=y.querySelector(`.code-input-${k}`);l(h,m[0]||""),m.length===1?u==null||u.focus():h<n-1&&m.slice(h+1,n).split("").forEach(C=>{l(k,C),u==null||u.focus(),k++,u=y.querySelector(`.code-input-${k}`)})}function c(p){p.currentTarget.select()}return b.jsx(T,{ref:i,component:"fieldset",border:"none",direction:"row",spacing:1.2,justifyContent:"center",children:f.map((p,m)=>b.jsx(de,{value:p,error:s.error,onChange:d,onKeyDown:v,onFocus:c,inputProps:{type:"number",className:`code-input-${m}`,"aria-label":`Number ${m+1}`,"data-index":m,pattern:"[0-9]*",inputtype:"numeric"}},m))})});var A=typeof window>"u"?g.useEffect:g.useLayoutEffect,me=({isPlaying:e,duration:t,startAt:o=0,updateInterval:n=0,onComplete:s,onUpdate:r})=>{let[i,f]=g.useState(o),a=g.useRef(0),l=g.useRef(o),v=g.useRef(o*-1e3),d=g.useRef(null),c=g.useRef(null),p=g.useRef(null),m=k=>{let u=k/1e3;if(c.current===null){c.current=u,d.current=requestAnimationFrame(m);return}let x=u-c.current,C=a.current+x;c.current=u,a.current=C;let $=l.current+(n===0?C:(C/n|0)*n),R=l.current+C,j=typeof t=="number"&&R>=t;f(j?t:$),j||(d.current=requestAnimationFrame(m))},h=()=>{d.current&&cancelAnimationFrame(d.current),p.current&&clearTimeout(p.current),c.current=null},y=g.useCallback(k=>{h(),a.current=0;let u=typeof k=="number"?k:o;l.current=u,f(u),e&&(d.current=requestAnimationFrame(m))},[e,o]);return A(()=>{if(r==null||r(i),t&&i>=t){v.current+=t*1e3;let{shouldRepeat:k=!1,delay:u=0,newStartAt:x}=(s==null?void 0:s(v.current/1e3))||{};k&&(p.current=setTimeout(()=>y(x),u*1e3))}},[i,t]),A(()=>(e&&(d.current=requestAnimationFrame(m)),h),[e,t,n]),{elapsedTime:i,reset:y}},fe=(e,t,o)=>{let n=e/2,s=t/2,r=n-s,i=2*r,f=o==="clockwise"?"1,0":"0,1",a=2*Math.PI*r;return{path:`m ${n},${s} a ${r},${r} 0 ${f} 0,${i} a ${r},${r} 0 ${f} 0,-${i}`,pathLength:a}},D=(e,t)=>e===0||e===t?0:typeof t=="number"?e-t:0,he=e=>({position:"relative",width:e,height:e}),ye={display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",left:0,top:0,width:"100%",height:"100%"},W=(e,t,o,n,s)=>{if(n===0)return t;let r=(s?n-e:e)/n;return t+o*r},E=e=>{var t,o;return(o=(t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(n,s,r,i)=>`#${s}${s}${r}${r}${i}${i}`).substring(1).match(/.{2}/g))==null?void 0:t.map(n=>parseInt(n,16)))!=null?o:[]},ge=(e,t)=>{var o;let{colors:n,colorsTime:s,isSmoothColorTransition:r=!0}=e;if(typeof n=="string")return n;let i=(o=s==null?void 0:s.findIndex((c,p)=>c>=t&&t>=s[p+1]))!=null?o:-1;if(!s||i===-1)return n[0];if(!r)return n[i];let f=s[i]-t,a=s[i]-s[i+1],l=E(n[i]),v=E(n[i+1]),d=!!e.isGrowing;return`rgb(${l.map((c,p)=>W(f,c,v[p]-c,a,d)|0).join(",")})`},ke=e=>{let{duration:t,initialRemainingTime:o,updateInterval:n,size:s=180,strokeWidth:r=12,trailStrokeWidth:i,isPlaying:f=!1,isGrowing:a=!1,rotation:l="clockwise",onComplete:v,onUpdate:d}=e,c=g.useRef(),p=Math.max(r,i??0),{path:m,pathLength:h}=fe(s,p,l),{elapsedTime:y}=me({isPlaying:f,duration:t,startAt:D(t,o),updateInterval:n,onUpdate:typeof d=="function"?u=>{let x=Math.ceil(t-u);x!==c.current&&(c.current=x,d(x))}:void 0,onComplete:typeof v=="function"?u=>{var x;let{shouldRepeat:C,delay:$,newInitialRemainingTime:R}=(x=v(u))!=null?x:{};if(C)return{shouldRepeat:C,delay:$,newStartAt:D(t,R)}}:void 0}),k=t-y;return{elapsedTime:y,path:m,pathLength:h,remainingTime:Math.ceil(k),rotation:l,size:s,stroke:ge(e,k),strokeDashoffset:W(y,0,h,t,a),strokeWidth:r}},L=e=>{let{children:t,strokeLinecap:o,trailColor:n,trailStrokeWidth:s}=e,{path:r,pathLength:i,stroke:f,strokeDashoffset:a,remainingTime:l,elapsedTime:v,size:d,strokeWidth:c}=ke(e);return w.createElement("div",{style:he(d)},w.createElement("svg",{viewBox:`0 0 ${d} ${d}`,width:d,height:d,xmlns:"http://www.w3.org/2000/svg"},w.createElement("path",{d:r,fill:"none",stroke:n??"#d9d9d9",strokeWidth:s??c}),w.createElement("path",{d:r,fill:"none",stroke:f,strokeLinecap:o??"round",strokeWidth:c,strokeDasharray:i,strokeDashoffset:a})),typeof t=="function"&&w.createElement("div",{style:ye},t({remainingTime:l,elapsedTime:v,color:f})))};L.displayName="CountdownCircleTimer";function ve({mobile:e,...t}){const{data:o,setData:n,post:s,processing:r,errors:i}=_({code:"",mobile:e}),[f,a]=g.useState(!1),l=c=>{c.preventDefault(),s(route("verify"))},v=()=>{a(!0)},d=()=>s(route("login"),{onSuccess:()=>{a(!1)}});return b.jsx("form",{onSubmit:l,children:b.jsxs(T,{spacing:2,children:[b.jsx(O,{name:"mobile",label:"Mobile",value:o.mobile,autoComplete:"mobile",helperText:i.mobile,error:i==null?void 0:i.mobile,disabled:!0,required:!0}),b.jsx(pe,{length:6,name:"code",value:o.code,autoComplete:"code",isFocused:!0,onChange:n,required:!0}),b.jsxs(T,{direction:"row",spacing:4,alignItems:"center",justifyContent:"space-between",children:[f?b.jsx(P,{onClick:d,children:"Resend Code"}):b.jsx(L,{size:70,isPlaying:!0,duration:120,colors:["#004777"],onComplete:v,children:({remainingTime:c})=>(c/60|0)+":"+c%60}),b.jsx(P,{variant:"contained",type:"submit",disabled:r,children:"Log in"})]})]})})}ve.layout=e=>b.jsx(K,{children:e,head:"Verify Mobile Number"});export{ve as default};
